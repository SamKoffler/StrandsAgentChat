<div class="chat-container">
  <div class="chat-header">
    <h2>ðŸ¤– Strands Agent Chat</h2>
    <p>Ask me anything! I can calculate, tell time, count letters, and more.</p>
  </div>

  <div class="messages-container">
    <div *ngFor="let message of messages" 
         class="message" 
         [ngClass]="{'user-message': message.isUser, 'agent-message': !message.isUser}">
      <div class="message-content">
        <div class="message-text" [innerHTML]="message.content"></div>
        <div class="message-time">{{message.timestamp | date:'short'}}</div>
      </div>
    </div>
    
    <div *ngIf="isLoading" class="message agent-message">
      <div class="message-content">
        <div class="typing-indicator">
          <span></span>
          <span></span>
          <span></span>
        </div>
      </div>
    </div>
  </div>

  <div class="input-container">
    <div class="input-group">
      <textarea 
        #messageTextarea
        (keypress)="onKeyPress($event, messageTextarea)"
        placeholder="Type your message here... (Press Enter to send)"
        [disabled]="isLoading"
        rows="3">
      </textarea>
      <button 
        (click)="sendMessage(messageTextarea)" 
        [disabled]="getMessageValue(messageTextarea).trim().length === 0 || isLoading"
        class="send-button"
        type="button">
        {{ isLoading ? 'Sending...' : 'Send' }}
      </button>
    </div>
  </div>
</div>
